"use strict";(()=>{var e={};e.id=573,e.ids=[573],e.modules={53524:e=>{e.exports=require("@prisma/client")},20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},3393:(e,r,t)=>{t.r(r),t.d(r,{originalPathname:()=>M,patchFetch:()=>U,requestAsyncStorage:()=>g,routeModule:()=>u,serverHooks:()=>v,staticGenerationAsyncStorage:()=>h});var i={};t.r(i),t.d(i,{DELETE:()=>m,GET:()=>p,PATCH:()=>l,POST:()=>d});var o=t(67092),a=t(25932),s=t(94147),n=t(77856);let c=new(t(53524)).PrismaClient;async function p(){try{let e=await c.article.findMany();return n.NextResponse.json(e)}catch(e){return n.NextResponse.json({error:"Error fetching articles"},{status:500})}}async function d(e){try{let r=await e.json(),t=await c.article.create({data:{name:r.name,description:r.description,price:r.price,categoryId:r.categoryId,...void 0!==r.camera?{camera:r.camera}:{},...void 0!==r.ram?{ram:r.ram}:{},...void 0!==r.storage?{storage:r.storage}:{},...void 0!==r.processor?{processor:r.processor}:{},...void 0!==r.imageUrl1?{imageUrl1:r.imageUrl1}:{},...void 0!==r.imageUrl2?{imageUrl2:r.imageUrl2}:{},...void 0!==r.imageUrl3?{imageUrl3:r.imageUrl3}:{},...void 0!==r.imageUrl4?{imageUrl4:r.imageUrl4}:{},...void 0!==r.price4Months?{price4Months:r.price4Months}:{},...void 0!==r.price8Months?{price8Months:r.price8Months}:{},...void 0!==r.price12Months?{price12Months:r.price12Months}:{},...void 0!==r.price16Months?{price16Months:r.price16Months}:{}}});return n.NextResponse.json(t,{status:201})}catch(e){return console.error("Error creating article:",e),n.NextResponse.json({error:"Error creating article"},{status:500})}}async function l(e){try{let r=e.nextUrl.searchParams.get("id"),t=await e.json(),i=await c.article.update({where:{id:Number(r)},data:{...void 0!==t.name?{name:t.name}:{},...void 0!==t.description?{description:t.description}:{},...void 0!==t.price?{price:Number(t.price)}:{},...void 0!==t.categoryId?{categoryId:Number(t.categoryId)}:{},...void 0!==t.camera?{camera:t.camera}:{},...void 0!==t.ram?{ram:t.ram}:{},...void 0!==t.storage?{storage:t.storage}:{},...void 0!==t.processor?{processor:t.processor}:{},...void 0!==t.imageUrl1?{imageUrl1:t.imageUrl1}:{},...void 0!==t.imageUrl2?{imageUrl2:t.imageUrl2}:{},...void 0!==t.imageUrl3?{imageUrl3:t.imageUrl3}:{},...void 0!==t.imageUrl4?{imageUrl4:t.imageUrl4}:{},...void 0!==t.price4Months?{price4Months:Number(t.price4Months)}:{},...void 0!==t.price8Months?{price8Months:Number(t.price8Months)}:{},...void 0!==t.price12Months?{price12Months:Number(t.price12Months)}:{},...void 0!==t.price16Months?{price16Months:Number(t.price16Months)}:{}}});return n.NextResponse.json(i)}catch(e){return console.error("Error updating article:",e),n.NextResponse.json({error:"Error updating article"},{status:500})}}async function m(e){try{let{id:r}=await e.json();return await c.article.delete({where:{id:Number(r)}}),n.NextResponse.json({message:"Article deleted successfully"})}catch(e){return console.error("Error deleting article:",e),n.NextResponse.json({error:"Error deleting article"},{status:500})}}let u=new o.AppRouteRouteModule({definition:{kind:a.x.APP_ROUTE,page:"/api/articles/route",pathname:"/api/articles",filename:"route",bundlePath:"app/api/articles/route"},resolvedPagePath:"C:\\Users\\Lenovo\\Desktop\\doctorcelweb\\doctorcelweb\\src\\app\\api\\articles\\route.ts",nextConfigOutput:"",userland:i}),{requestAsyncStorage:g,staticGenerationAsyncStorage:h,serverHooks:v}=u,M="/api/articles/route";function U(){return(0,s.patchFetch)({serverHooks:v,staticGenerationAsyncStorage:h})}}};var r=require("../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),i=r.X(0,[424,965],()=>t(3393));module.exports=i})();