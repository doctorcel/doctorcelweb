(()=>{var e={};e.id=702,e.ids=[702],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},71017:e=>{"use strict";e.exports=require("path")},57310:e=>{"use strict";e.exports=require("url")},85892:(e,t,r)=>{"use strict";r.a(e,async(e,a)=>{try{r.r(t),r.d(t,{GlobalError:()=>l.a,__next_app__:()=>g,originalPathname:()=>m,pages:()=>x,routeModule:()=>j,tree:()=>p});var s=r(71151),o=r(37973);r(52075);var n=r(32504),i=r(25932),c=r(66550),l=r.n(c),d=r(86979),h={};for(let e in d)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(h[e]=()=>d[e]);r.d(t,h);var u=e([s,o]);[s,o]=u.then?(await u)():u;let p=["",{children:["dashboard",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,71151)),"C:\\Users\\Lenovo\\Desktop\\doctorcelweb\\doctorcelweb\\src\\app\\dashboard\\page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,37973)),"C:\\Users\\Lenovo\\Desktop\\doctorcelweb\\doctorcelweb\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,52075,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],x=["C:\\Users\\Lenovo\\Desktop\\doctorcelweb\\doctorcelweb\\src\\app\\dashboard\\page.tsx"],m="/dashboard/page",g={require:r,loadChunk:()=>Promise.resolve()},j=new n.AppPageRouteModule({definition:{kind:i.x.APP_PAGE,page:"/dashboard/page",pathname:"/dashboard",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:p}});a()}catch(e){a(e)}})},56745:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,12994,23)),Promise.resolve().then(r.t.bind(r,96114,23)),Promise.resolve().then(r.t.bind(r,9727,23)),Promise.resolve().then(r.t.bind(r,79671,23)),Promise.resolve().then(r.t.bind(r,41868,23)),Promise.resolve().then(r.t.bind(r,84759,23))},52256:(e,t,r)=>{Promise.resolve().then(r.bind(r,15521)),Promise.resolve().then(r.bind(r,61210)),Promise.resolve().then(r.bind(r,14589)),Promise.resolve().then(r.bind(r,46223))},28649:(e,t,r)=>{Promise.resolve().then(r.bind(r,94001))},46223:(e,t,r)=>{"use strict";r.d(t,{ProtectedRoute:()=>i});var a=r(10326),s=r(17577),o=r(35047);let n=()=>{let[e,t]=(0,s.useState)(null),[r,a]=(0,s.useState)(!0),n=(0,o.useRouter)();return(0,s.useEffect)(()=>{(async()=>{let e=localStorage.getItem("token");if(e)try{let r=await fetch("/api/auth/validate",{headers:{Authorization:`Bearer ${e}`}});if(r.ok){let e=await r.json();t(e)}else localStorage.removeItem("token")}catch(e){console.error("Error validando token:",e),localStorage.removeItem("token")}a(!1)})()},[]),{user:e,loading:r,login:async(e,t)=>{},logout:()=>{localStorage.removeItem("token"),t(null),n.push("/login")}}},i=({children:e})=>{let{user:t,loading:r}=n(),i=(0,o.useRouter)();return((0,s.useEffect)(()=>{r||t||i.push("/login")},[t,r,i]),r)?a.jsx("div",{children:"Cargando..."}):t?a.jsx(a.Fragment,{children:e}):null}},15521:(e,t,r)=>{"use strict";r.d(t,{InvoiceManagement:()=>i});var a=r(10326),s=r(17577),o=r(59643),n=r.n(o);let i=()=>{let[e,t]=(0,s.useState)([]);return(0,s.useEffect)(()=>{t([{id:1,customerName:"Juan P\xe9rez",date:"2024-03-15",total:699,status:"Pagada"},{id:2,customerName:"Mar\xeda Garc\xeda",date:"2024-03-16",total:499,status:"Pendiente"}])},[]),(0,a.jsxs)("div",{className:n().invoiceManagement,children:[a.jsx("h2",{children:"Gesti\xf3n de Facturas"}),a.jsx("button",{className:n().addButton,children:"Crear Factura"}),(0,a.jsxs)("table",{className:n().invoiceTable,children:[a.jsx("thead",{children:(0,a.jsxs)("tr",{children:[a.jsx("th",{children:"ID"}),a.jsx("th",{children:"Cliente"}),a.jsx("th",{children:"Fecha"}),a.jsx("th",{children:"Total"}),a.jsx("th",{children:"Estado"}),a.jsx("th",{children:"Acciones"})]})}),a.jsx("tbody",{children:e.map(e=>(0,a.jsxs)("tr",{children:[a.jsx("td",{children:e.id}),a.jsx("td",{children:e.customerName}),a.jsx("td",{children:e.date}),(0,a.jsxs)("td",{children:["$",e.total]}),a.jsx("td",{children:e.status}),(0,a.jsxs)("td",{children:[a.jsx("button",{className:n().viewButton,children:"Ver"}),a.jsx("button",{className:n().editButton,children:"Editar"})]})]},e.id))})]})]})}},61210:(e,t,r)=>{"use strict";r.d(t,{ProductManagement:()=>l});var a=r(10326),s=r(17577);let o=({children:e,...t})=>a.jsx("button",{...t,style:{padding:"10px",margin:"5px",cursor:"pointer"},children:e}),n=({label:e,error:t,...r})=>(0,a.jsxs)("div",{style:{margin:"10px 0"},children:[a.jsx("label",{children:e}),a.jsx("input",{...r,style:{display:"block",width:"100%",padding:"5px"}}),t&&a.jsx("span",{style:{color:"red"},children:t})]}),i=({label:e,options:t,error:r,...s})=>(0,a.jsxs)("div",{style:{margin:"10px 0"},children:[a.jsx("label",{children:e}),(0,a.jsxs)("select",{...s,style:{display:"block",width:"100%",padding:"5px"},children:[a.jsx("option",{value:"",children:"Seleccione una opci\xf3n"}),t.map(e=>a.jsx("option",{value:e.value,children:e.label},e.value))]}),r&&a.jsx("span",{style:{color:"red"},children:r})]}),c=({isOpen:e,onClose:t,children:r})=>e?a.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",background:"rgba(0,0,0,0.5)",display:"flex",justifyContent:"center",alignItems:"flex-start",overflowY:"auto",padding:"20px 0"},children:(0,a.jsxs)("div",{style:{background:"white",padding:"20px",borderRadius:"5px",maxWidth:"500px",width:"100%",maxHeight:"90vh",overflowY:"auto",position:"relative"},children:[a.jsx("button",{onClick:t,style:{position:"absolute",top:"10px",right:"10px",background:"none",border:"none",fontSize:"18px",cursor:"pointer"},children:"X"}),a.jsx("div",{style:{marginTop:"30px"},children:r})]})}):null,l=()=>{let[e,t]=(0,s.useState)([]),[r,l]=(0,s.useState)([]),[d,h]=(0,s.useState)(!1),[u,p]=(0,s.useState)(!1),[x,m]=(0,s.useState)(null),[g,j]=(0,s.useState)(null),[v,b]=(0,s.useState)({name:"",description:"",price:0,categoryId:0}),[y,f]=(0,s.useState)({name:""});(0,s.useEffect)(()=>{w(),C()},[]),(0,s.useEffect)(()=>{x?b(x):b({name:"",description:"",price:0,categoryId:0})},[x]),(0,s.useEffect)(()=>{g?f(g):f({name:""})},[g]);let w=async()=>{try{let e=await fetch("/api/articles");if(!e.ok)throw Error("Error al cargar los art\xedculos");let r=await e.json();t(r)}catch(e){console.error("Error fetching articles:",e)}},C=async()=>{try{let e=await fetch("/api/categories");if(!e.ok)throw Error("Error al cargar las categor\xedas");let t=await e.json();l(t)}catch(e){console.error("Error fetching categories:",e)}},P=e=>{let{name:t,value:r}=e.target;b(e=>({...e,[t]:t.includes("price")?parseFloat(r)||0:r}))},S=async e=>{e.preventDefault();try{let e={...v,price:parseFloat(v.price.toString()),price4Months:v.price4Months?parseFloat(v.price4Months.toString()):void 0,price8Months:v.price8Months?parseFloat(v.price8Months.toString()):void 0,price12Months:v.price12Months?parseFloat(v.price12Months.toString()):void 0,price16Months:v.price16Months?parseFloat(v.price16Months.toString()):void 0,categoryId:parseInt(v.categoryId.toString(),10)},t="/api/articles",r="POST";if(x&&(t=`/api/articles?id=${x.id}`,r="PATCH",e.id=x.id),!(await fetch(t,{method:r,headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).ok)throw Error("Error al guardar el art\xedculo");h(!1),w()}catch(e){console.error("Error saving article:",e)}},E=async e=>{e.preventDefault();try{let e=g?`/api/categories/${g.id}`:"/api/categories",t=g?"PUT":"POST";if(!(await fetch(e,{method:t,headers:{"Content-Type":"application/json"},body:JSON.stringify(y)})).ok)throw Error("Error al guardar la categor\xeda");p(!1),C()}catch(e){console.error("Error saving category:",e)}},k=async e=>{try{if(!(await fetch(`/api/articles?id=${e}`,{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:e})})).ok)throw Error("Error al eliminar el art\xedculo");w()}catch(e){console.error("Error deleting article:",e)}},M=async e=>{try{if(!(await fetch(`/api/categories/${e}`,{method:"DELETE"})).ok)throw Error("Error al eliminar la categor\xeda");C()}catch(e){console.error("Error deleting category:",e)}},A=async(e,t)=>{let r=e.target.files?.[0];if(!r)return;let a=new FormData;a.append("file",r);try{let e=await fetch("/api/upload",{method:"POST",body:a});if(!e.ok)throw Error("Failed to upload image");let r=await e.json();b(e=>({...e,[t]:r.url}))}catch(e){console.error("Error uploading image:",e)}};return(0,a.jsxs)("div",{children:[a.jsx("h2",{children:"Gesti\xf3n de Art\xedculos y Categor\xedas"}),a.jsx(o,{onClick:()=>{m(null),h(!0)},children:"A\xf1adir Art\xedculo"}),a.jsx(o,{onClick:()=>{j(null),p(!0)},children:"A\xf1adir Categor\xeda"}),a.jsx("h3",{children:"Art\xedculos"}),(0,a.jsxs)("table",{children:[a.jsx("thead",{children:(0,a.jsxs)("tr",{children:[a.jsx("th",{children:"Nombre"}),a.jsx("th",{children:"Descripci\xf3n"}),a.jsx("th",{children:"Precio"}),a.jsx("th",{children:"Categor\xeda"}),a.jsx("th",{children:"Acciones"})]})}),a.jsx("tbody",{children:e.map(e=>(0,a.jsxs)("tr",{children:[a.jsx("td",{children:e.name}),a.jsx("td",{children:e.description}),a.jsx("td",{children:e.price}),a.jsx("td",{children:r.find(t=>t.id===e.categoryId)?.name}),(0,a.jsxs)("td",{children:[a.jsx(o,{onClick:()=>{m(e),h(!0)},children:"Editar"}),a.jsx(o,{onClick:()=>k(e.id),children:"Eliminar"})]})]},e.id))})]}),a.jsx("h3",{children:"Categor\xedas"}),(0,a.jsxs)("table",{children:[a.jsx("thead",{children:(0,a.jsxs)("tr",{children:[a.jsx("th",{children:"Nombre"}),a.jsx("th",{children:"Acciones"})]})}),a.jsx("tbody",{children:r.map(e=>(0,a.jsxs)("tr",{children:[a.jsx("td",{children:e.name}),(0,a.jsxs)("td",{children:[a.jsx(o,{onClick:()=>{j(e),p(!0)},children:"Editar"}),a.jsx(o,{onClick:()=>M(e.id),children:"Eliminar"})]})]},e.id))})]}),a.jsx(c,{isOpen:d,onClose:()=>{h(!1),m(null)},children:(0,a.jsxs)("form",{onSubmit:S,children:[a.jsx(n,{name:"name",value:v.name,onChange:P,label:"Nombre",required:!0}),a.jsx(n,{name:"description",value:v.description,onChange:P,label:"Descripci\xf3n",required:!0}),a.jsx(n,{name:"price",type:"number",value:v.price,onChange:P,label:"Precio",required:!0,step:"0.01"}),a.jsx(i,{name:"categoryId",value:v.categoryId,onChange:P,label:"Categor\xeda",options:r.map(e=>({value:e.id,label:e.name})),required:!0}),a.jsx(n,{name:"camera",value:v.camera||"",onChange:P,label:"C\xe1mara"}),a.jsx(n,{name:"ram",value:v.ram||"",onChange:P,label:"RAM"}),a.jsx(n,{name:"storage",value:v.storage||"",onChange:P,label:"Almacenamiento"}),a.jsx(n,{name:"processor",value:v.processor||"",onChange:P,label:"Procesador"}),["imageUrl1","imageUrl2","imageUrl3","imageUrl4"].map((e,t)=>(0,a.jsxs)("div",{children:[a.jsx(n,{name:e,value:v[e]||"",onChange:P,label:`URL de imagen ${t+1}`}),a.jsx("input",{type:"file",accept:"image/*",onChange:t=>A(t,e)})]},e)),a.jsx(n,{name:"price4Months",type:"number",value:v.price4Months||"",onChange:P,label:"Precio 4 meses",step:"0.01"}),a.jsx(n,{name:"price8Months",type:"number",value:v.price8Months||"",onChange:P,label:"Precio 8 meses",step:"0.01"}),a.jsx(n,{name:"price12Months",type:"number",value:v.price12Months||"",onChange:P,label:"Precio 12 meses",step:"0.01"}),a.jsx(n,{name:"price16Months",type:"number",value:v.price16Months||"",onChange:P,label:"Precio 16 meses",step:"0.01"}),(0,a.jsxs)(o,{type:"submit",children:[x?"Actualizar":"Crear"," Art\xedculo"]})]})}),a.jsx(c,{isOpen:u,onClose:()=>{p(!1),j(null)},children:(0,a.jsxs)("form",{onSubmit:E,children:[a.jsx(n,{name:"name",value:y.name,onChange:e=>{let{name:t,value:r}=e.target;f(e=>({...e,[t]:r}))},label:"Nombre de la categor\xeda",required:!0}),(0,a.jsxs)(o,{type:"submit",children:[g?"Actualizar":"Crear"," Categor\xeda"]})]})})]})}},14589:(e,t,r)=>{"use strict";r.d(t,{TechServiceManagement:()=>i});var a=r(10326),s=r(17577),o=r(12676),n=r.n(o);let i=()=>{let[e,t]=(0,s.useState)([]);return(0,s.useEffect)(()=>{t([{id:1,customerName:"Ana L\xf3pez",deviceType:"Smartphone",issue:"Pantalla rota",status:"En progreso",receivedDate:"2024-03-14"},{id:2,customerName:"Carlos Ruiz",deviceType:"Laptop",issue:"No enciende",status:"Pendiente",receivedDate:"2024-03-15"}])},[]),(0,a.jsxs)("div",{className:n().techServiceManagement,children:[a.jsx("h2",{children:"Gesti\xf3n de Servicios T\xe9cnicos"}),a.jsx("button",{className:n().addButton,children:"Nuevo Servicio"}),(0,a.jsxs)("table",{className:n().serviceTable,children:[a.jsx("thead",{children:(0,a.jsxs)("tr",{children:[a.jsx("th",{children:"ID"}),a.jsx("th",{children:"Cliente"}),a.jsx("th",{children:"Dispositivo"}),a.jsx("th",{children:"Problema"}),a.jsx("th",{children:"Estado"}),a.jsx("th",{children:"Fecha de Recepci\xf3n"}),a.jsx("th",{children:"Acciones"})]})}),a.jsx("tbody",{children:e.map(e=>(0,a.jsxs)("tr",{children:[a.jsx("td",{children:e.id}),a.jsx("td",{children:e.customerName}),a.jsx("td",{children:e.deviceType}),a.jsx("td",{children:e.issue}),a.jsx("td",{children:e.status}),a.jsx("td",{children:e.receivedDate}),(0,a.jsxs)("td",{children:[a.jsx("button",{className:n().viewButton,children:"Ver"}),a.jsx("button",{className:n().updateButton,children:"Actualizar"})]})]},e.id))})]})]})}},94001:(e,t,r)=>{"use strict";r.d(t,{AuthProvider:()=>i,E:()=>c});var a=r(10326),s=r(17577),o=r(35047);let n=(0,s.createContext)(void 0),i=({children:e})=>{let[t,r]=(0,s.useState)(null),i=(0,o.useRouter)();(0,s.useEffect)(()=>{let e=localStorage.getItem("token");e&&c(e)},[]);let c=async e=>{try{let t=await fetch("/api/auth/validate",{headers:{Authorization:`Bearer ${e}`}});if(t.ok){let e=await t.json();r(e)}else localStorage.removeItem("token")}catch(e){console.error("Error validating token:",e),localStorage.removeItem("token")}},l=async(e,t)=>{try{let a=await fetch("/api/auth",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t})});if(a.ok){let e=await a.json();return localStorage.setItem("token",e.token),r(e.user),console.log("User logged in:",e.user),e.user}throw Error("Login failed")}catch(e){throw console.error("Login error:",e),e}};return a.jsx(n.Provider,{value:{user:t,login:l,logout:()=>{localStorage.removeItem("token"),r(null),i.push("/login")}},children:e})},c=()=>{let e=(0,s.useContext)(n);if(void 0===e)throw Error("useAuthContext must be used within an AuthProvider");return e}},59186:e=>{e.exports={}},59643:e=>{e.exports={}},12676:e=>{e.exports={}},71151:(e,t,r)=>{"use strict";r.a(e,async(e,a)=>{try{r.r(t),r.d(t,{default:()=>u});var s=r(84150);r(92461);var o=r(42020),n=r(27187),i=r(85537),c=r(66518),l=r(59186),d=r.n(l),h=e([o,n,i,c]);function u(){return s.jsx(c.i,{children:(0,s.jsxs)("div",{className:d().dashboard,children:[s.jsx("h1",{children:"Panel de Administraci\xf3n"}),(0,s.jsxs)("div",{className:d().modules,children:[s.jsx(o.U,{}),s.jsx(n.G,{}),s.jsx(i.q,{})]})]})})}[o,n,i,c]=h.then?(await h)():h,a()}catch(e){a(e)}})},37973:(e,t,r)=>{"use strict";r.a(e,async(e,a)=>{try{r.r(t),r.d(t,{default:()=>i,metadata:()=>c});var s=r(84150);r(92461);var o=r(92150);r(54315);var n=e([o]);o=(n.then?(await n)():n)[0];let c={title:"Doctor Cel",description:"Tu tienda de celulares y accesorios"};function i({children:e}){return s.jsx("html",{lang:"es",children:s.jsx("body",{children:(0,s.jsxs)(o.H,{children:[s.jsx("nav",{}),s.jsx("main",{children:e}),s.jsx("footer",{children:s.jsx("p",{children:"\xa9 2024 Doctor Cel. Todos los derechos reservados."})})]})})})}a()}catch(e){a(e)}})},66518:(e,t,r)=>{"use strict";r.a(e,async(e,a)=>{try{r.d(t,{i:()=>e});var s=r(71851);let e=(await (0,s.createProxy)(String.raw`C:\Users\Lenovo\Desktop\doctorcelweb\doctorcelweb\src\components\ProtectedRoute.tsx`)).ProtectedRoute;a()}catch(e){a(e)}},1)},27187:(e,t,r)=>{"use strict";r.a(e,async(e,a)=>{try{r.d(t,{G:()=>e});var s=r(71851);let e=(await (0,s.createProxy)(String.raw`C:\Users\Lenovo\Desktop\doctorcelweb\doctorcelweb\src\components\dashboard\InvoiceManagement.tsx`)).InvoiceManagement;a()}catch(e){a(e)}},1)},42020:(e,t,r)=>{"use strict";r.a(e,async(e,a)=>{try{r.d(t,{U:()=>e});var s=r(71851);let e=(await (0,s.createProxy)(String.raw`C:\Users\Lenovo\Desktop\doctorcelweb\doctorcelweb\src\components\dashboard\ProductManagement.tsx`)).ProductManagement;a()}catch(e){a(e)}},1)},85537:(e,t,r)=>{"use strict";r.a(e,async(e,a)=>{try{r.d(t,{q:()=>e});var s=r(71851);let e=(await (0,s.createProxy)(String.raw`C:\Users\Lenovo\Desktop\doctorcelweb\doctorcelweb\src\components\dashboard\TechServiceManagement.tsx`)).TechServiceManagement;a()}catch(e){a(e)}},1)},92150:(e,t,r)=>{"use strict";r.a(e,async(e,a)=>{try{r.d(t,{H:()=>o});var s=r(71851);let e=await (0,s.createProxy)(String.raw`C:\Users\Lenovo\Desktop\doctorcelweb\doctorcelweb\src\contexts\AuthContext.tsx`),o=e.AuthProvider;e.useAuthContext,a()}catch(e){a(e)}},1)},73881:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});var a=r(40771);let s=e=>[{type:"image/x-icon",sizes:"16x16",url:(0,a.fillMetadataSegment)(".",e.params,"favicon.ico")+""}]},54315:()=>{}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[424,618,771],()=>r(85892));module.exports=a})();